name: gapfish
root: ~/
windows:
  - editor:
      layout: even-horizontal
      panes:
        - pj gapfish && e .
        - exit # just to have 2/1
        - pj gapfish && ggpull
  - server:
      layout: even-horizontal
      panes:
        - pj gapfish_2 && gcm && ggpull && bundle
        - pj gapfish && for server in mongodb mysql redis; do docker-compose start $server; done; bin/rails server
        - top
  - kubernetes:
      layout: tiled
      panes:
        - watch -n 1 $HOME/bin/kubectl get ingress,svc,deployments,rc,po,secret
        - kc logs -f $(kc get po --selector=pod=redis-0 --output=jsonpath='{.items[*].metadata.name}') -c monitoring
        - watch -n 1 '$HOME/bin/kubectl top nodes | sort'
        - watch -n 1 '$HOME/bin/kubectl top pods | sort'
        - pj gapfish_prophet
